TOWNSCD_HEADER_NEXT				DW	BLKDEV_HEADER_NEXT
								DW	IOSYS_CS
TOWNSCD_HEADER_ATTRIBWORD		DW	0C800h  ; CharDev|IOCTL|open/close/removable media
TOWNSCD_HEADER_STRATEGY_PTR		DW	TOWNSCD_STRATEGY
TOWNSCD_HEADER_INTERRUPT_PTR	DW	TOWNSCD_INTERRUPT
TOWNSCD_HEADER_NAME				DB	"TOWNS_CD"

TOWNSCD_REQHDR_PTR		DD	0

TOWNSCD_STRATEGY:
						MOV		CS:[TOWNSCD_REQHDR_PTR],BX
						MOV		CS:[TOWNSCD_REQHDR_PTR+2],ES
						RETF

TOWNSCD_INTERRUPT:
						LES		BX,CS:[TOWNSCD_REQHDR_PTR]
						RETF
