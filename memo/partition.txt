あー、こんなことなら津軽と互換DOS開発中に調べたパーティションテーブルの意味とかきちんと整理しとくべきだった。

パーティションテーブルは、ディスクの2番目のセクタ。最大10個までパーティションを持つことができる。


(1)Shift-JISで富士通
(2)多分なんだけど、最初のパーティションのセクタ。
(3)マスターブートセクタ(LBA=0)と、パーティションテーブルセクタ(LBA=1)を除いたセクタ数。だから総セクタ数-2。
(4) ?


a FFH 起動パーティション、00 起動しないパーティション
b 01H MS-DOS区画(最大128MB)
  06H 多分DOS 512区画
  90H 多分OASYS区画
  00H 未使用
c     必ず3が入ってるみたいだ。
d     セクタ数
e     区画タイプの名前
f     区画名

ysdump TOWNSOS.h0 512 512
         +0 +1 +2 +3 +4 +5 +6 +7 +8 +9 +a +b +c +d +e +f
00000200 95 78 8E 6D 92 CA 03 00 00 00 FE DF 57 00 00 02 | 9D |.x.m........W...
         (1)^^^^^^^^^^^^^^ (2)^^^^^^^^ (3)^^^^^^^^ (4)^^

00000210 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................

Partition 0
00000220 FF 06 03 00 00 00 00 F0 0F 00 00 00 00 00 00 00 | 07 |................
         a  b  c           d^^^^^^^^^^
00000230 4D 53 2D 44 4F 53 20 35 31 32 20 20 20 20 20 20 | 2B |MS-DOS 512
         e^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
00000240 54 4F 57 4E 53 4F 53 20 20 20 20 20 20 20 20 20 | 5D |TOWNSOS
         f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Partition 1
00000250 00 01 03 F0 0F 00 00 F8 03 00 00 00 00 00 00 00 | FE |................
00000260 4D 53 2D 44 4F 53 20 20 20 20 20 20 20 20 20 20 | F3 |MS-DOS
00000270 57 49 4E 44 4F 57 53 20 20 20 20 20 20 20 20 20 | 4B |WINDOWS

Partition 2
00000280 00 01 03 E8 13 00 00 F8 03 00 00 00 00 00 00 00 | FA |................
00000290 4D 53 2D 44 4F 53 20 20 20 20 20 20 20 20 20 20 | F3 |MS-DOS
000002a0 4F 4C 44 44 4F 53 20 20 20 20 20 20 20 20 20 20 | 05 |OLDDOS

Partition 3
000002b0 00 06 03 E0 17 00 FE FF 3F 00 00 00 00 00 00 00 | 3C |........?.......
000002c0 4D 53 2D 44 4F 53 20 35 31 32 20 20 20 20 20 20 | 2B |MS-DOS 512
000002d0 44 41 54 41 20 20 20 20 20 20 20 20 20 20 20 20 | 9A |DATA

Partition 4
000002e0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
000002f0 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
00000300 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |

Partition 5
00000310 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
00000320 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
00000330 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |

Partition 6
00000340 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
00000350 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
00000360 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |

Partition 7
00000370 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
00000380 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
00000390 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |

Partition 8
000003a0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
000003b0 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
000003c0 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |

Partition 9
000003d0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | 00 |................
000003e0 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |
000003f0 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 | 00 |


