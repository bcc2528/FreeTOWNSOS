ALL : TGBIOS.BIN TGBIOS.SYS

TGBIOS.BIN : BUILD\TGBIOS.REX DROPHDR.EXP
	A:FREE386 -nocrt DROPHDR BUILD\TGBIOS.REX TGBIOS.BIN

TGBIOS.SYS : BIOSLOAD.ASM
	MASM BIOSLOAD.ASM BUILD\BIOSLOAD.OBJ BUILD\BIOSLOAD.LST NUL
	LINK BUILD\BIOSLOAD.OBJ;
	EXE2BIN BIOSLOAD.EXE TGBIOS.SYS
	DEL BIOSLOAD.EXE

DROPHDR.EXP : DROPHDR.C
	HC386 DROPHDR.C

BUILD\TGBIOS.REX : BUILD\HEADER.OBJ BUILD\EGB.OBJ BUILD\FNT.OBJ BUILD\EGBFONT.OBJ BUILD\EGBUTIL.OBJ BUILD\EGBDATA.OBJ BUILD\SPR.OBJ BUILD\MOS.OBJ BUILD\SND.OBJ BUILD\SNDINT.OBJ BUILD\SYSINFO.OBJ BUILD\UTIL_ASM.OBJ
	386LINK @LINK.LN

BUILD\HEADER.OBJ : HEADER.ASM
	386ASM HEADER.ASM -OBJ BUILD\HEADER.OBJ

BUILD\UTIL_ASM.OBJ : UTIL_ASM.ASM
	386ASM UTIL_ASM.ASM -OBJ BUILD\UTIL_ASM.OBJ

BUILD\EGB.OBJ : EGB.C EGB.H SYSINFO.H MACRO.H
	HCD386 EGB.C -OBJ BUILD\EGB.OBJ

BUILD\EGBFONT.OBJ : EGBFONT.C EGB.H SYSINFO.H MACRO.H
	HCD386 EGBFONT.C -OBJ BUILD\EGBFONT.OBJ

BUILD\EGBUTIL.OBJ : EGBUTIL.C EGB.H SYSINFO.H MACRO.H
	HCD386 EGBUTIL.C -OBJ BUILD\EGBUTIL.OBJ

BUILD\EGBDATA.OBJ : EGBDATA.C EGB.H SYSINFO.H MACRO.H
	HCD386 EGBDATA.C -OBJ BUILD\EGBDATA.OBJ

BUILD\FNT.OBJ : FNT.C SYSINFO.H MACRO.H
	HCD386 FNT.C -OBJ BUILD\FNT.OBJ

BUILD\SPR.OBJ : SPR.C SYSINFO.H MACRO.H
	HCD386 SPR.C -OBJ BUILD\SPR.OBJ

BUILD\SND.OBJ : SND.C SND.H SYSINFO.H SNDINT.H MACRO.H
	HCD386 SND.C -OBJ BUILD\SND.OBJ

BUILD\MOS.OBJ : MOS.C MOS.H SYSINFO.H SNDINT.H MACRO.H
	HCD386 MOS.C -OBJ BUILD\MOS.OBJ

BUILD\SNDINT.OBJ : SNDINT.C SNDINT.H SYSINFO.H SND.H MACRO.H
	HCD386 SNDINT.C -OBJ BUILD\SNDINT.OBJ

BUILD\SYSINFO.OBJ : SYSINFO.C SYSINFO.H SND.H MOS.H EGB.H SNDINT.H MACRO.H
	HCD386 SYSINFO.C -OBJ BUILD\SYSINFO.OBJ
