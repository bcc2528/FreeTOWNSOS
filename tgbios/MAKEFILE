ALL : TGBIOS.BIN TGBIOS.SYS

TGBIOS.BIN : BUILD\TGBIOS.REX DROPHDR.EXP
	A:FREE386 -nocrt DROPHDR BUILD\TGBIOS.REX TGBIOS.BIN

TGBIOS.SYS : BIOSLOAD.ASM
	MASM BIOSLOAD.ASM BUILD\BIOSLOAD.OBJ BUILD\BIOSLOAD.LST NUL
	LINK BUILD\BIOSLOAD.OBJ;
	EXE2BIN BIOSLOAD.EXE TGBIOS.SYS
	DEL BIOSLOAD.EXE

DROPHDR.EXP : DROPHDR.C
	HC386 DROPHDR.C

BUILD\TGBIOS.REX : BUILD\HEADER.OBJ BUILD\EGB.OBJ BUILD\EGBDATA.OBJ BUILD\SPR.OBJ BUILD\UTIL_ASM.OBJ
	386LINK @LINK.LN

BUILD\HEADER.OBJ : HEADER.ASM
	386ASM HEADER.ASM -OBJ BUILD\HEADER.OBJ

BUILD\UTIL_ASM.OBJ : UTIL_ASM.ASM
	386ASM UTIL_ASM.ASM -OBJ BUILD\UTIL_ASM.OBJ

BUILD\EGB.OBJ : EGB.C
	HCD386 EGB.C -OBJ BUILD\EGB.OBJ

BUILD\EGBDATA.OBJ : EGBDATA.C
	HCD386 EGBDATA.C -OBJ BUILD\EGBDATA.OBJ

BUILD\SPR.OBJ : SPR.C
	HCD386 SPR.C -OBJ BUILD\SPR.OBJ
